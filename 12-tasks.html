<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>12 Tasks</title>

  </head>
  <body>
    <h1>Tasks</h1>
    <button class="js-start" onclick="showLoading()">Start</button>
    <button class="js-add-to-cart" onclick="showCartMessage()">Add to Cart</button>
    <p class="js-cart-message"></p>
    <button class="js-add-count" onclick="messages++; displayNotification()">Add Count</button>
    <button class="js-remove-count" onclick="
    if(messages>0){
        messages--;
        if(messages===0){
            stopNotification();
        }
    }
    ">Remove Count</button>
    <script>
      // 12a
      const add = function summation(a, b) {
        console.log(1 + 2);
      };
      add();
      add();

      // 12b

      function runTwice(fun) {
        fun();
        fun();
      }
      runTwice(function () {
        console.log("12b");
      });
      runTwice(add);

      // 12c
      function updateButton() {
        setInterval(function () {
          document.querySelector(".js-start").innerText = "Finished!";
        }, 1000);
      }
      // 12d
      function showLoading(){
        const buttonElement = document.querySelector('.js-start');
        buttonElement.innerText = 'Loading...';
        
        setTimeout(function(){
          buttonElement.innerText = 'Finished!';
        }, 1000);
      }
      // 12e
      function addToCart(){
        const cartMessage = document.querySelector('.js-cart-message');
        cartMessage.innerText = 'Added to Cart!';
        setTimeout(function(){
          cartMessage.innerText = '';
        }, 2000);
      }
      // 12f
    //   let timeoutId;
    //   function showCartMessage(){
    //     const cartMessage = document.querySelector('.js-cart-message');
    //     cartMessage.innerText = 'Added to Cart!';
    //     clearTimeout(timeoutId);
    //     timeoutId = setTimeout(function(){
    //       cartMessage.innerText = '';
    //     }, 2000);
    //   }
      // 12g 12h 12i
      let messages = 2;
      let timeoutId;
      let isDisplayNotification;
      displayNotification();
      function displayNotification(){
        if(isDisplayNotification){
            return;
        }
        isDisplayNotification=true;
        timeoutId = setInterval(function(){
        if(document.title==='12 Tasks'){
            document.title = `(${messages}) New messages`;
        }
        else{
            document.title = '12 Tasks';
        }
      },1000);
      }
      function stopNotification(){
        isDisplayNotification=false;
        clearInterval(timeoutId);
        document.title='12 Tasks';
      }


      // 12j
      const multiply=(a,b)=>{
        return a*b;
      }

      console.log(multiply(2,3));
      console.log(multiply(7,10));

      // 12k
      const mul = (a,b)=>a*b;
      console.log(mul(2,4));

      // 12l
      function countPositive(arr){
        let count = 0;
        arr.forEach(element => {
          if(element>0){
            count++;
          }
        }
      );
      return count;
      };

      console.log(countPositive([1,-3,5]));
      console.log(countPositive([-2,3,-5,7,10]));

      // 12m
      function addNum(array,num){
       return array.map((value)=>value+num);
        
      };
      console.log(addNum([1,2,4],2));
      console.log(addNum([-2, -1, 0, 99], 2));

      // 12n
      function removeEgg(foods){
        return foods.filter((value)=>value!='egg');
      }
      console.log(removeEgg(['egg','egg','apple','ham']));

      // 12o
      function removeEggs(foods){
        let eggsRemoved = 0;
        return foods.filter((value,index)=>{
          if(value==='eggs' && eggsRemoved<2){
            eggsRemoved++;
            return false;
          }
        });

      }
      console.log(removeEgg(['egg','egg','apple','ham']));



    
     
      


    </script>
  </body>
</html>
